<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Valentine üíõ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    html, body {
      margin: 0;
      width: 100%;
      height: 100%;
    }

    body {
      background: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
    }

    img {
      width: 220px;
      margin-bottom: 20px;
    }

    h1 {
      margin-bottom: 30px;
      padding: 0 20px;
      transition: all 0.3s ease;
    }

    .buttons {
      position: relative;
      width: 320px;
      height: 120px;
    }

    button {
      position: absolute;
      padding: 12px 24px;
      font-size: 1rem;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    #yesBtn {
      left: 50%;
      transform: translateX(-50%);
      z-index: 2;
    }

    #noBtn {
      right: 0;
    }

    /* Shake animation for text */
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-6px); }
      50% { transform: translateX(6px); }
      75% { transform: translateX(-6px); }
      100% { transform: translateX(0); }
    }

    .shake {
      animation: shake 0.4s;
    }

    /* Fake confirmation screen */
    .confirm {
      position: fixed;
      inset: 0;
      background: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }
  </style>
</head>

<body>

  <!-- 
    RECOMMENDED:
    Download a Minion GIF and place it beside index.html
    Then replace the src below with: src="minion.gif"
  -->
  <div class="tenor-gif-embed" data-postid="10586631440146974859" data-share-method="host" data-aspect-ratio="0.935743" data-width="100%"><a href="https://tenor.com/view/minion-minion-loves-loves-love-i-love-you-gif-10586631440146974859">Minion Minion Loves GIF</a>from <a href="https://tenor.com/search/minion-gifs">Minion GIFs</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>

  <h1 id="question">
    Will you be my Valentine,<br>
    <strong>Mabbyyy?</strong>?
  </h1>

  <div class="buttons">
    <button id="yesBtn">Yes üíñ</button>
    <button id="noBtn">No üôÉ</button>
  </div>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const question = document.getElementById("question");

    let scale = 1;
    let noCount = 0;
    let showedConfirm = false;

    const messages = [
      "Hmm‚Ä¶ misclick?",
      "That didn‚Äôt feel right.",
      "Are you playing hard to get?",
      "Bold choice.",
      "This button is struggling.",
      "Your finger slipped again.",
      "We both know where this is going.",
      "Stop resisting.",
      "The NO button is tired.",
      "YES is inevitable."
    ];

    function moveNoButton() {
      const btnWidth = noBtn.offsetWidth;
      const btnHeight = noBtn.offsetHeight;

      const maxX = window.innerWidth - btnWidth;
      const maxY = window.innerHeight - btnHeight;

      const x = Math.random() * maxX;
      const y = Math.random() * maxY;

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
    }

    function handleNoAttempt() {
      noCount++;

      const index = Math.min(noCount - 1, messages.length - 1);
      question.innerText = messages[index];

      question.classList.remove("shake");
      void question.offsetWidth;
      question.classList.add("shake");

      scale += 0.35;
      yesBtn.style.transform = `translateX(-50%) scale(${scale})`;

      moveNoButton();

      // Fake "Are you sure?" screen (once)
      if (noCount === 5 && !showedConfirm) {
        showedConfirm = true;
        showConfirmScreen();
      }

      // Full screen YES
      if (scale >= 4) {
        yesBtn.style.position = "fixed";
        yesBtn.style.inset = "0";
        yesBtn.style.width = "100vw";
        yesBtn.style.height = "100vh";
        yesBtn.style.fontSize = "2.5rem";
        yesBtn.style.transform = "none";
        noBtn.style.display = "none";
      }
    }

    function showConfirmScreen() {
      const confirmDiv = document.createElement("div");
      confirmDiv.className = "confirm";
      confirmDiv.innerHTML = `
        <h1>Are you sure? ü•∫</h1>
        <button id="backBtn">Go back</button>
      `;

      document.body.appendChild(confirmDiv);

      document.getElementById("backBtn").onclick = () => {
        confirmDiv.remove();
      };
    }

    // Desktop
    noBtn.addEventListener("mouseenter", handleNoAttempt);

    // Mobile
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      handleNoAttempt();
    });

    yesBtn.addEventListener("click", () => {
      confetti({
        particleCount: 200,
        spread: 100,
        origin: { y: 0.6 }
      });

      document.body.innerHTML = `
        <h1>
          YAY!!! üíï<br><br>
          You tried to say no ${noCount} times üòè<br><br>
          Happy Valentine‚Äôs Day üíñ
        </h1>
      `;
    });
  </script>

</body>
</html>
